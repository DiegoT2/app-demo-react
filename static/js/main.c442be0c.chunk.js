(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{56:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(2),i=c(3),r=c(27),s=c.n(r),a=(c(56),c.p+"static/media/icon_logo.a8eab065.png"),j=(c(57),c(12)),l=c.p+"static/media/shopping-cart.9fa1f5f3.png";var o=function(e){var t=e.quantity;return Object(n.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(n.jsxs)(j.b,{to:"/cart",children:[Object(n.jsx)("img",{style:{height:"32px"},src:l,alt:"Carrito"})," ",Object(n.jsx)("span",{style:{position:"absolute",fontSize:"15px",bottom:"10px",left:"15px",fontWeight:"bold"},children:Object(n.jsx)("p",{children:t})})]})})},d=c(41),b=c(15),h=Object(i.createContext)([]),O=function(e){var t=e.children,c=Object(i.useState)([]),r=Object(b.a)(c,2),s=r[0],a=r[1],j=Object(i.useState)(0),l=Object(b.a)(j,2),o=l[0],O=l[1],x=Object(i.useState)(),u=Object(b.a)(x,2),m=u[0],g=u[1];Object(i.useEffect)((function(){var e=0;s.map((function(e){return e.price*e.amount})).map((function(t){return e+=t})),g(e);var t=s.length;O(t)}),[s]);return Object(n.jsx)(h.Provider,{value:{cartList:s,addItem:function(e,t,c){if(function(e){return void 0!==s.find((function(t){return t.id===e}))}(c)){var n=s.find((function(e){return e.id===c})),i=n.amount+t,r={id:n.id,name:n.titulo,image:n.imagen,price:n.precio,amount:i},j=s.filter((function(e){return e.id!=c})),l=[].concat(Object(d.a)(j),[r]);a(l)}else{var o={id:e.id,name:e.titulo,image:e.imagen,price:e.precio,amount:t};a([].concat(Object(d.a)(s),[o]))}},removeItem:function(e){var t=s.filter((function(t){return t.id!=e}));a(t)},quantity:o,clearCart:function(){a([]),O(0)},total:m},children:t})},x=c(75),u=c(76);var m=function(){var e=Object(i.useContext)(h).quantity;return console.log(e),Object(n.jsx)("header",{children:Object(n.jsx)("div",{children:Object(n.jsxs)(x.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(n.jsx)(x.a.Brand,{children:Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("a",{children:Object(n.jsx)("img",{src:a,style:{justifyContent:"center",alignItems:"center",width:50,height:50}})})})}),Object(n.jsx)(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(x.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsxs)(u.a,{className:"mr-auto",children:[Object(n.jsx)(u.a.Link,{href:"#category",children:Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Swords",children:" Swords "})}),Object(n.jsx)(u.a.Link,{href:"#category",children:Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Shields",children:" Shields "})}),Object(n.jsx)(u.a.Link,{href:"#category",children:Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Consummable Items",children:" Consummable Items "})}),Object(n.jsx)(u.a.Link,{href:"#category",children:Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Clothes",children:" Clothes "})})]}),Object(n.jsx)(u.a,{children:Object(n.jsx)(u.a.Link,{children:e<1?Object(n.jsx)(i.Fragment,{}):Object(n.jsx)(o,{cantidad:e})})})]})]})})})},g=c(33),f=c(19),p=c(72),v=function(e){var t=e.product;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsx)(p.a,{children:Object(n.jsx)(f.a,{bg:"dark",style:{width:"18rem"},children:Object(n.jsxs)(j.b,{to:"/item/"+t.id,children:[Object(n.jsx)(f.a.Title,{text:"light",children:Object(n.jsx)("h3",{style:{textAlign:"center"},children:t.titulo})}),Object(n.jsx)(f.a.Img,{style:{width:"18rem"},variant:"top",src:t.imagen}),Object(n.jsx)(f.a.Body,{children:Object(n.jsx)(f.a.Text,{text:"light",children:Object(n.jsx)("h6",{style:{textAlign:"center"},children:t.categoryId})})})]})})})})})},y=c(73),k=function(e){var t=e.productos;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(y.a,{children:t.map((function(e){return Object(n.jsx)(v,{product:e})}))})})},C=c(13),S=c(40),I=(c(65),S.a.initializeApp({apiKey:"AIzaSyAWWxTjGIrfpesbeg1tr22q-ri1FU_C7hY",authDomain:"ecommerce-coderhouse-demo.firebaseapp.com",projectId:"ecommerce-coderhouse-demo",storageBucket:"ecommerce-coderhouse-demo.appspot.com",messagingSenderId:"511759506668",appId:"1:511759506668:web:c68a0112ea011da5a519c9"})),w=S.a.firestore(I),T=c(74),A=c(48);var F=function(){var e=Object(i.useState)([]),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(i.useState)(!0),a=Object(b.a)(s,2),j=a[0],l=a[1],o=Object(C.f)().category;Object(i.useEffect)((function(){d.then((function(e){if(o){var t=e.filter((function(e){return e.categoryId===o}));r(t)}else r(e);l(!1)}))}),[o]);var d=new Promise((function(e,t){w.collection("Products").get().then((function(t){var c=t.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));e(c)})).catch((function(e){t(e)}))}));return Object(n.jsx)("div",{children:j?Object(n.jsx)(T.a,{fluid:!0,children:Object(n.jsx)(y.a,{fluid:!0,children:Object(n.jsx)(p.a,{xl:!0,children:Object(n.jsx)(A.a,{style:{marginLeft:"50%",marginTop:"6em",marginBottom:"4.5em"},animation:"border",variant:"light"})})})}):Object(n.jsxs)("div",{children:[o?Object(n.jsx)("h1",{style:{textAlign:"center",marginTop:"1.5em"},children:o}):Object(n.jsx)(n.Fragment,{children:" "}),Object(n.jsx)("h1",{style:{textAlign:"center",marginTop:"1.5em",marginBottom:"1.5em"},children:"It's dangerous to go alone! Take this!"}),Object(n.jsx)(k,{productos:c})]})})},N=c(49),B=function(e){var t=e.item,c=Object(i.useState)(t.initial),r=Object(b.a)(c,2),s=r[0],a=r[1],l=Object(i.useState)(!0),o=Object(b.a)(l,2),d=o[0],O=o[1],x=Object(i.useContext)(h).addItem;return Object(n.jsx)(n.Fragment,{children:d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{children:[Object(n.jsxs)(p.a,{children:[" ",Object(n.jsx)("p",{children:s})," "]}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)("button",{onClick:function(){s>t.initial&&a(s-1)},children:" - "}),Object(n.jsx)("button",{onClick:function(){s<t.stock?a(s+1):a(t.stock)},children:" + "})]})]})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){x(t,s,t.id),O(!1)},children:" Agregar al carrito "})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:"Agregaste "+s+" "+t.titulo+" al carrito"}),Object(n.jsx)(j.b,{to:"/cart",children:Object(n.jsx)("button",{children:"Terminar compra"})})]})})},L=c.p+"static/media/rupee.3e04c43b.png",E=function(e){var t=e.item;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(p.a,{children:Object(n.jsxs)("h1",{style:{textAlign:"center",marginTop:"1.5em"},children:[" ",t.titulo," "]})})}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("section",{children:Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:t.imagen,style:{alignItems:"center",width:350,height:350}})})})}),Object(n.jsx)(p.a,{children:Object(n.jsx)("section",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:t.descripcion}),Object(n.jsxs)("h1",{children:[" ",Object(n.jsx)("img",{src:L,style:{justifyContent:"center",alignItems:"center",width:50,height:50}}),t.precio]}),"\xa0",Object(n.jsxs)(y.a,{children:[Object(n.jsx)(p.a,{children:t.stock?Object(n.jsxs)("p",{children:[t.stock," en Stock"]}):Object(n.jsx)("h1",{children:"Sin stock"})}),"\xa0",Object(n.jsx)(p.a,{children:Object(n.jsx)(B,{item:t})})]})]})})})]})]})})},P=[],z=function(e){Object(N.a)(e);var t=Object(i.useState)(null),c=Object(b.a)(t,2),r=c[0],s=c[1],a=Object(C.f)().id;return Object(i.useEffect)((function(){w.collection("Products").get().then((function(e){e.docs.forEach((function(e){var t=Object(g.a)({id:e.id},e.data());P.push(t)}))})).catch((function(){console.log("fallo")}));var e=new Promise((function(e){setTimeout((function(){var t=P.find((function(e){return e.id==a}));e(t)}),1e3)}));e.then((function(e){return s(e)})),e.catch((function(e){return console.log("Algo salio mal")}))}),[a]),Object(n.jsx)(n.Fragment,{children:r?Object(n.jsx)(E,{item:r}):Object(n.jsx)("div",{children:Object(n.jsx)(A.a,{style:{marginLeft:"50%",marginTop:"6em",marginBottom:"4.5em"},animation:"border",variant:"light"})})})},q=c(50),D=function(){var e=Object(i.useState)(""),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(i.useState)(""),a=Object(b.a)(s,2),l=a[0],o=a[1],d=Object(i.useState)(""),O=Object(b.a)(d,2),x=O[0],u=O[1],m=Object(i.useState)(""),g=Object(b.a)(m,2),v=g[0],k=g[1],C=Object(i.useContext)(h),S=C.cartList,I=C.clearCart,A=(C.removeItem,C.total);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(T.a,{children:[Object(n.jsxs)(y.a,{children:[" ",Object(n.jsx)("h1",{style:{textAlign:"center",marginTop:"1.5em"},children:"Carrito"})," "]}),S.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(y.a,{children:[" ",Object(n.jsx)("h3",{style:{textAlign:"center",margin:"0.5em"},children:"Productos"})," "]}),Object(n.jsx)(y.a,{children:S.map((function(e,t){return Object(n.jsx)(p.a,{xs:!0,children:Object(n.jsx)(f.a,{bg:"dark",text:"light",style:{width:"18rem"},className:"mb-2",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsx)("h2",{style:{textAlign:"center"},children:e.name})}),Object(n.jsxs)(f.a.Body,{children:[Object(n.jsx)(f.a.Title,{children:Object(n.jsx)("img",{src:e.image,style:{justifyContent:"18rem",alignItems:"18rem",width:150,height:150}})}),Object(n.jsxs)(f.a.Text,{children:[Object(n.jsxs)("h5",{style:{textAlign:"center"},children:["Cantidad: ",e.amount]}),Object(n.jsxs)("h3",{style:{textAlign:"center"},children:[Object(n.jsx)("img",{src:L,style:{justifyContent:"center",alignItems:"center",width:50,height:50}}),e.price]})]})]})]},t)})})}))}),Object(n.jsx)(y.a,{children:Object(n.jsxs)(p.a,{children:[Object(n.jsxs)("h3",{style:{textAlign:"center"},children:[Object(n.jsx)("img",{src:L,style:{justifyContent:"center",alignItems:"center",width:50,height:50}}),A]}),Object(n.jsx)("button",{style:{marginLeft:"40%"},onClick:I,children:"Borrar el carrito"})]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={buyer:{nombre:c,telefono:l,email:x},items:S,date:q.a.firestore.Timestamp.fromDate(new Date),total:{total:A}},n=w;n.collection("orders").add(t).then((function(e){k(e.id);var t=n.collection("Products"),c=w.batch();S.forEach((function(e){console.log(e),c.update(t.doc(e.id),{stock:5-e.amount})})),c.commit().then((function(){console.log("Estuvo todo el bache bien")})).catch((function(e){console.log("Hubo un error en",e)}))})).catch((function(e){console.log(e)}))},children:[Object(n.jsx)("input",{style:{color:"azure"},onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Nombre",value:c}),Object(n.jsx)("input",{style:{color:"azure"},onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Telefono",value:l}),Object(n.jsx)("input",{style:{color:"azure"},onChange:function(e){return u(e.target.value)},type:"text",placeholder:"E-mail",value:x}),Object(n.jsx)("button",{children:"Comprar"})]})})]}):Object(n.jsxs)("div",{style:{margin:"1em"},children:[Object(n.jsx)("h3",{style:{marginBottom:"1em"},children:"El carrito esta vacio"}),Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("button",{children:"Volver a la tienda"})})]}),v?Object(n.jsxs)("p",{style:{marginTop:"1em"},children:["Orden Confirmada! Nro de Orden ",v]}):null]})})},W=(c(69),function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("footer",{style:{marginTop:"5em"},id:"fh5co-footer",class:"fh5co-bg",role:"contentinfo",children:[Object(n.jsx)("div",{class:"overlay"}),Object(n.jsxs)("div",{class:"container",children:[Object(n.jsxs)("div",{class:"row row-pb-md",children:[Object(n.jsxs)("div",{class:"col-md-4 fh5co-widget",children:[Object(n.jsx)("h3",{children:"Sobre nosotros."}),Object(n.jsx)("p",{children:"Nos encontramos debajo del segundo arbol de Kokiri's Village"})]}),Object(n.jsxs)("div",{class:"col-md-8",children:[Object(n.jsx)("h3",{children:"Categorias"}),Object(n.jsx)("div",{class:"col-md-4 col-sm-4 col-xs-6",children:Object(n.jsxs)("ul",{class:"fh5co-footer-links",children:[Object(n.jsx)("li",{children:Object(n.jsxs)("a",{children:[Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Swords"})," Swords"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)("a",{children:[Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Shields"})," Shields"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)("a",{children:[Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Consummable Items"})," Consummable Items"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)("a",{children:[Object(n.jsx)(j.b,{className:"nav-link active",to:"/category/Clothes"})," Clothes"]})})]})})]})]}),Object(n.jsx)("div",{class:"row copyright",children:Object(n.jsx)("div",{class:"col-md-12 text-center",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("small",{class:"block",children:"\xa9 2021 | All Rights Reserved."}),Object(n.jsx)("small",{class:"block",children:"Powered by  kokiris-shop.com"})]})})})]})]})})}),H=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{height:"100%",width:"100%",backgroundImage:'url("https://i.ibb.co/hY3ZQxx/Background-image.jpg )',backgroundSize:"cover"},children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(m,{}),Object(n.jsxs)(O,{children:[Object(n.jsxs)(C.c,{children:[Object(n.jsx)(C.a,{exact:!0,path:"/",children:Object(n.jsx)(F,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/item/:id",children:Object(n.jsx)(z,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/category/:category",children:Object(n.jsx)(F,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/cart",children:Object(n.jsx)(D,{})})]}),Object(n.jsx)(W,{})]})]})})})};s.a.render(Object(n.jsx)(H,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c442be0c.chunk.js.map