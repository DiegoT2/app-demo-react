[{"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\index.js":"1","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\NavBar.js":"2","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\CartWidget.js":"3","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\App.js":"4","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemListContainer.js":"5","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Item.js":"6","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemList.js":"7","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemCount.js":"8","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemDetailContainer.js":"9","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemDetail.js":"10","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\CartContext.js":"11","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Cart.js":"12","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\firebaseConfig.js":"13","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Footer.js":"14"},{"size":146,"mtime":1609354017969,"results":"15","hashOfConfig":"16"},{"size":1702,"mtime":1613525941484,"results":"17","hashOfConfig":"16"},{"size":829,"mtime":1613525964672,"results":"18","hashOfConfig":"16"},{"size":1363,"mtime":1613527100362,"results":"19","hashOfConfig":"16"},{"size":2082,"mtime":1613527851677,"results":"20","hashOfConfig":"16"},{"size":686,"mtime":1613526190155,"results":"21","hashOfConfig":"16"},{"size":343,"mtime":1613526176190,"results":"22","hashOfConfig":"16"},{"size":1690,"mtime":1613526440417,"results":"23","hashOfConfig":"16"},{"size":1589,"mtime":1613526063144,"results":"24","hashOfConfig":"16"},{"size":1531,"mtime":1613526218854,"results":"25","hashOfConfig":"16"},{"size":2204,"mtime":1613831312656,"results":"26","hashOfConfig":"16"},{"size":4232,"mtime":1613831083658,"results":"27","hashOfConfig":"16"},{"size":524,"mtime":1613340146847,"results":"28","hashOfConfig":"16"},{"size":1371,"mtime":1613526948268,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1u95vk8",{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\index.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\NavBar.js",["61","62"],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\CartWidget.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\App.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemListContainer.js",["63"],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Item.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemList.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemCount.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemDetailContainer.js",["64","65"],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\ItemDetail.js",["66","67"],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\CartContext.js",["68","69"],"import React, {useState, useEffect, createContext} from \"react\"\r\n\r\nexport  const CartContext = createContext([]);\r\n\r\nconst CartProvider = ({children}) => {\r\n    const [cartList, setCartList] = useState([])\r\n    const [quantity, setQuantity] = useState(0)\r\n    let   [total, setTotal] = useState()\r\n\r\n    useEffect(()=>{\r\n        let tot =  0;\r\n        let totals = cartList.map( p => p.price * p.amount)\r\n        totals.map(p => tot = tot+p )\r\n        setTotal(tot)\r\n        const cartQuantity = cartList.length\r\n        setQuantity(cartQuantity)\r\n    }, [cartList])\r\n\r\n    const isInCart = (id) => {\r\n        const item = cartList.find( p => p.id === id)\r\n        if(item === undefined){\r\n            return false\r\n        }else{\r\n            return true\r\n        }\r\n    }\r\n\r\n    const addItem = (item, contador, id ) => {\r\n        if(isInCart(id)){\r\n            const products = cartList.find(product => product.id === id)\r\n            const newCant = products.amount + contador\r\n            const newProduct =  {\r\n                id: products.id,\r\n                name: products.titulo,\r\n                image: products.imagen,\r\n                price: products.precio,\r\n                stock: products.stock,\r\n                amount: newCant\r\n            } \r\n            const oldCart = cartList.filter(item => item.id != id)  \r\n            const newCart = [...oldCart, newProduct]\r\n            setCartList(newCart)\r\n        }else{\r\n            const newItem = {\r\n                id:  item.id,\r\n                name: item.titulo,\r\n                image: item.imagen,\r\n                price: item.precio,\r\n                stock: item.stock,\r\n                amount: contador\r\n            }\r\n            setCartList([...cartList, newItem])\r\n        }\r\n    }\r\n\r\n    const removeItem = (id) => {\r\n        const newCart = cartList.filter(p => p.id != id)\r\n        setCartList(newCart) \r\n    }\r\n\r\n    let clearCart = () => {\r\n        setCartList([])\r\n        setQuantity(0)\r\n    }\r\n\r\n    return (\r\n        <CartContext.Provider \r\n            value={{ cartList, addItem, removeItem, quantity, clearCart, total}}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )}\r\n\r\nexport default CartProvider","C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Cart.js",["70","71","72","73","74"],"import React, {useContext, useState} from 'react'\r\nimport {CartContext} from \"./CartContext.js\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {firestore} from \"./firebaseConfig.js\"\r\nimport firebase from \"firebase\"\r\nimport {Container, Row, Col} from 'react-bootstrap'\r\nimport Card from 'react-bootstrap/Card'\r\nimport rupee from \"./images/rupee.png\"\r\n\r\nconst Cart = () => {\r\n\r\n    const [ nombre, setNombre ] = useState(\"\")\r\n    const [ telefono, setTelefono ] = useState(\"\")\r\n    const [ email, setEmail ] = useState(\"\")\r\n    const [ id, setId] = useState(\"\")\r\n    const {cartList, clearCart, removeItem, quantity, total} = useContext(CartContext)\r\n\r\n    const manejarCompra = (e) => {\r\n        e.preventDefault()\r\n        const orden = {\r\n            buyer : {nombre, telefono, email},\r\n            items : cartList,\r\n            date : firebase.firestore.Timestamp.fromDate(new Date()),\r\n            total : {total}\r\n        }\r\n\r\n        const db = firestore\r\n        const collection = db.collection(\"orders\")\r\n        collection\r\n        .add(orden)\r\n        .then((response)=>{\r\n            setId(response.id)\r\n            const collection = db.collection(\"Products\")\r\n            const bache = firestore.batch()\r\n            cartList.forEach(item => {\r\n                console.log(item)\r\n                bache.update(collection.doc(item.id),{stock: item.stock - item.amount}) //falta agregar la consulta de stock y modificacion correcta\r\n            });\r\n\r\n        bache\r\n        .commit()\r\n        .then(()=>{\r\n            console.log(\"Estuvo todo el bache bien\")\r\n        })\r\n        .catch(err=>{\r\n            console.log(\"Hubo un error en\", err)\r\n        })\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err)\r\n    })\r\n    }\r\n    \r\n    return (\r\n    <>\r\n    <Container>\r\n    <Row> <h1 style={{textAlign: \"center\", marginTop:\"1.5em\"}}>Carrito</h1> </Row>\r\n    {cartList.length > 0 ? \r\n    (<>\r\n    <Row> <h3 style={{textAlign: \"center\", margin:\"0.5em\"}}>Productos</h3> </Row>\r\n    <Row>\r\n    {cartList.map( (d, idx) =>\r\n    <Col xs>\r\n    <Card bg='dark' text='light' style={{ width: '18rem' }} className=\"mb-2\"> \r\n        <div key={idx}>\r\n        <Card.Header>\r\n            <h2 style={{textAlign:\"center\"}}>{d.name}</h2></Card.Header>\r\n        <Card.Body>\r\n        <Card.Title>\r\n        <img src={d.image}\r\n        style={{       \r\n            justifyContent: '18rem',\r\n            alignItems: '18rem',\r\n            width: 150,\r\n            height: 150,\r\n        }}></img>\r\n        </Card.Title>\r\n        <Card.Text>\r\n        <h5 style={{textAlign:\"center\"}}>Cantidad: {d.amount}</h5>\r\n        <h3 style={{textAlign:\"center\"}}>\r\n            <img src={rupee} \r\n                style={{ \r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    width: 50,\r\n                    height: 50,\r\n            }} />\r\n            {d.price}\r\n        </h3>\r\n        </Card.Text>\r\n        {/* <button onClick={removeItem}>x</button>  */}\r\n        </Card.Body>\r\n        </div>\r\n        </Card>\r\n        </Col>\r\n\r\n    )}\r\n    </Row>\r\n    <Row>\r\n    <Col> \r\n    <h3 style={{textAlign:\"center\"}}>\r\n    <img src={rupee} style={{ justifyContent: 'center', alignItems: 'center', width: 50, height: 50, }}/>\r\n    {total}\r\n    </h3>\r\n    <button style={{marginLeft:\"40%\"}} onClick={clearCart}>Borrar el carrito</button>\r\n    </Col>\r\n    </Row> \r\n    <div>\r\n        <form  onSubmit={manejarCompra}>\r\n        <input style={{color:\"azure\"}} onChange={e=>setNombre(e.target.value)} type=\"text\" placeholder=\"Nombre\" value={nombre}/>\r\n        <input style={{color:\"azure\"}} onChange={e=>setTelefono(e.target.value)} type=\"text\" placeholder=\"Telefono\" value={telefono}/>\r\n        <input style={{color:\"azure\"}} onChange={e=>setEmail(e.target.value)} type=\"text\" placeholder=\"E-mail\" value={email}/>\r\n        <button>Comprar</button>\r\n        </form>\r\n    </div>\r\n    </>\r\n    )\r\n    :\r\n    (<div style={{margin:\"1em\"}}><h3 style={{marginBottom:\"1em\"}}>El carrito esta vacio</h3>\r\n    <Link to=\"/\"><button>Volver a la tienda</button></Link>\r\n    </div>)\r\n    }\r\n    { id ? <p style={{marginTop:\"1em\"}}>Orden Confirmada! Nro de Orden {id}</p> : null}\r\n    </Container>\r\n</>)}\r\n\r\nexport default Cart",["75","76"],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\firebaseConfig.js",[],"C:\\Users\\godii\\OneDrive\\Documentos\\GitHub\\app-demo-react\\src\\Footer.js",["77","78","79","80"],{"ruleId":"81","severity":1,"message":"82","line":19,"column":7,"nodeType":"83","endLine":19,"endColumn":10},{"ruleId":"84","severity":1,"message":"85","line":20,"column":9,"nodeType":"83","endLine":26,"endColumn":16},{"ruleId":"86","severity":1,"message":"87","line":24,"column":8,"nodeType":"88","endLine":24,"endColumn":18,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":9,"column":32,"nodeType":"92","messageId":"93","endLine":9,"endColumn":35},{"ruleId":"94","severity":1,"message":"95","line":36,"column":59,"nodeType":"96","messageId":"93","endLine":36,"endColumn":61},{"ruleId":"84","severity":1,"message":"85","line":19,"column":13,"nodeType":"83","endLine":24,"endColumn":18},{"ruleId":"84","severity":1,"message":"85","line":32,"column":18,"nodeType":"83","endLine":38,"endColumn":22},{"ruleId":"94","severity":1,"message":"97","line":40,"column":61,"nodeType":"96","messageId":"93","endLine":40,"endColumn":63},{"ruleId":"94","severity":1,"message":"97","line":57,"column":51,"nodeType":"96","messageId":"93","endLine":57,"endColumn":53},{"ruleId":"98","severity":1,"message":"99","line":16,"column":33,"nodeType":"100","messageId":"101","endLine":16,"endColumn":43},{"ruleId":"98","severity":1,"message":"102","line":16,"column":45,"nodeType":"100","messageId":"101","endLine":16,"endColumn":53},{"ruleId":"84","severity":1,"message":"85","line":70,"column":9,"nodeType":"83","endLine":76,"endColumn":12},{"ruleId":"84","severity":1,"message":"85","line":81,"column":13,"nodeType":"83","endLine":87,"endColumn":18},{"ruleId":"84","severity":1,"message":"85","line":102,"column":5,"nodeType":"83","endLine":102,"endColumn":106},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"81","severity":1,"message":"82","line":19,"column":12,"nodeType":"83","endLine":19,"endColumn":15},{"ruleId":"81","severity":1,"message":"82","line":20,"column":12,"nodeType":"83","endLine":20,"endColumn":15},{"ruleId":"81","severity":1,"message":"82","line":21,"column":12,"nodeType":"83","endLine":21,"endColumn":15},{"ruleId":"81","severity":1,"message":"82","line":22,"column":12,"nodeType":"83","endLine":22,"endColumn":15},"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'obtenerProductos'. Either include it or remove the dependency array.","ArrayExpression",["107"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","Expected '!==' and instead saw '!='.","no-unused-vars","'removeItem' is assigned a value but never used.","Identifier","unusedVar","'quantity' is assigned a value but never used.","no-native-reassign",["108"],"no-negated-in-lhs",["109"],{"desc":"110","fix":"111"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [category, obtenerProductos]",{"range":"112","text":"113"},[805,815],"[category, obtenerProductos]"]